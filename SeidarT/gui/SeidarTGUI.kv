#:kivy 1.11.1 

<Radar>:
    name: "radar"
    pos_hint: {'x': 0.55, 'y': 0.405}
    size_hint: 0.21, 0.35

    RelativeLayout:
        canvas:
            Color:
                rgba: 0, 0, 0, 1

            Line:
                width: 2.0
                rectangle: (self.x, self.y, self.width, self.height)

        Label:
            text: "Radar Source"
            bold: True
            color: 0,0,0,1
            font_size: 20
            pos_hint: {'x': 0, 'y':0.81}
            size_hint: 1, 0.2
        
        #Label: 
        #    text: "Position:"
        #    color: 0,0,0,1
        #    pos_hint: {'x': 0, 'y':0.75}
        #    size_hint: 0.45, 0.2
        #    text_size: self.size
        #    halign: 'left'
        #    valign: 'middle'

        TextInput:
            hint_text: "X"
            color: 0,0,0,1
            font_size: self.height - 16
            multiline: False
            pos_hint: {'x': 0.1, 'y':0.68}
            size_hint: 0.25, 0.14
            halign: 'center'
            valign: 'middle'

        TextInput:
            hint_text: "Y"
            color: 0,0,0,1
            font_size: self.height - 16
            multiline: False
            pos_hint: {'x': 0.38, 'y':0.68}
            size_hint: 0.25, 0.14
            halign: 'center'
            valign: 'middle'

        TextInput:
            hint_text: "Z"
            color: 0,0,0,1
            font_size: self.height - 16
            multiline: False
            pos_hint: {'x': 0.66, 'y':0.68}
            size_hint: 0.25, 0.14
            halign: 'center'
            valign: 'middle'

        Label: 
            text: "Time Step:"
            color: 0,0,0,1
            pos_hint: {'x': 0, 'y':0.54}
            size_hint: 0.51, 0.1
            text_size: self.size
            halign: 'right'
            valign: 'middle'

        TextInput:
            hint_text: "###"
            color: 0,0,0,1
            font_size: self.height - 16
            multiline: False
            pos_hint: {"x":0.55, "y":0.52}
            size_hint: 0.4, 0.14
            halign: 'center'
            valign: 'middle'

        Label: 
            text: "Theta:"
            color: 0,0,0,1
            pos_hint: {'x': 0, 'y':0.38}
            size_hint: 0.51, 0.1
            text_size: self.size
            halign: 'right'
            valign: 'middle'

        TextInput:
            hint_text: "###"
            color: 0,0,0,1
            font_size: self.height - 16
            multiline: False
            pos_hint: {"x":0.55, "y":0.36}
            size_hint: 0.4, 0.14
            halign: 'center'
            valign: 'middle'
            

        Label: 
            text: "Frequency:"
            color: 0,0,0,1
            pos_hint: {'x': 0, 'y':0.22}
            size_hint: 0.51, 0.1
            text_size: self.size
            halign: 'right'
            valign: 'middle'

        TextInput:
            hint_text: "###"
            color: 0,0,0,1
            font_size: self.height - 16
            multiline: False
            pos_hint: {"x":0.55, "y":0.2}
            size_hint: 0.4, 0.14
            halign: 'center'
            valign: 'middle'

        Label: 
            text: "Phi:"
            color: 0,0,0,1
            pos_hint: {'x': 0, 'y':0.05}
            size_hint: 0.51, 0.1
            text_size: self.size
            halign: 'right'
            valign: 'middle'

        TextInput:
            hint_text: "###"
            color: 0,0,0,1
            font_size: self.height - 16
            multiline: False
            pos_hint: {"x":0.55, "y":0.04}
            size_hint: 0.4, 0.14
            halign: 'center'
            valign: 'middle'

<Seismic>:
    name: "seismic"
    pos_hint: {'x': 0.77, 'y': 0.405}
    size_hint: 0.21, 0.35

    RelativeLayout:
        canvas:
            Color:
                rgba: 0, 0, 0, 1

            Line:
                width: 2.0
                rectangle: (self.x, self.y, self.width, self.height)

        Label: 
            text: "Seismic Source"
            bold: True
            color: 0,0,0,1
            font_size: 20
            pos_hint: {'x': 0, 'y':0.81}
            size_hint: 1, 0.2
        
        #Label: 
        #    text: "Position:"
        #    color: 0,0,0,1
        #    pos_hint: {'x': 0, 'y':0.75}
        #    size_hint: 0.45, 0.2
        #    text_size: self.size
        #    halign: 'left'
        #    valign: 'middle'

        TextInput:
            hint_text: "X"
            color: 0,0,0,1
            font_size: self.height - 16
            multiline: False
            pos_hint: {'x': 0.1, 'y':0.68}
            size_hint: 0.25, 0.14
            halign: 'center'
            valign: 'middle'

        TextInput:
            hint_text: "Y"
            color: 0,0,0,1
            font_size: self.height - 16
            multiline: False
            pos_hint: {'x': 0.38, 'y':0.68}
            size_hint: 0.25, 0.14
            halign: 'center'
            valign: 'middle'

        TextInput:
            hint_text: "Z"
            color: 0,0,0,1
            font_size: self.height - 16
            multiline: False
            pos_hint: {'x': 0.66, 'y':0.68}
            size_hint: 0.25, 0.14
            halign: 'center'
            valign: 'middle'

        Label: 
            text: "Time Step:"
            color: 0,0,0,1
            pos_hint: {'x': 0, 'y':0.54}
            size_hint: 0.51, 0.1
            text_size: self.size
            halign: 'right'
            valign: 'middle'

        TextInput:
            hint_text: "###"
            color: 0,0,0,1
            font_size: self.height - 16
            multiline: False
            pos_hint: {"x":0.55, "y":0.52}
            size_hint: 0.4, 0.14
            halign: 'center'
            valign: 'middle'

        Label: 
            text: "Theta:"
            color: 0,0,0,1
            pos_hint: {'x': 0, 'y':0.38}
            size_hint: 0.51, 0.1
            text_size: self.size
            halign: 'right'
            valign: 'middle'

        TextInput:
            hint_text: "###"
            color: 0,0,0,1
            font_size: self.height - 16
            multiline: False
            pos_hint: {"x":0.55, "y":0.36}
            size_hint: 0.4, 0.14
            halign: 'center'
            valign: 'middle'
            

        Label: 
            text: "Frequency:"
            color: 0,0,0,1
            pos_hint: {'x': 0, 'y':0.22}
            size_hint: 0.51, 0.1
            text_size: self.size
            halign: 'right'
            valign: 'middle'

        TextInput:
            hint_text: "###"
            color: 0,0,0,1
            font_size: self.height - 16
            multiline: False
            pos_hint: {"x":0.55, "y":0.2}
            size_hint: 0.4, 0.14
            halign: 'center'
            valign: 'middle'

        Label: 
            text: "Phi:"
            color: 0,0,0,1
            pos_hint: {'x': 0, 'y':0.05}
            size_hint: 0.51, 0.1
            text_size: self.size
            halign: 'right'
            valign: 'middle'

        TextInput:
            hint_text: "###"
            color: 0,0,0,1
            font_size: self.height - 16
            multiline: False
            pos_hint: {"x":0.55, "y":0.04}
            size_hint: 0.4, 0.14
            halign: 'center'
            valign: 'middle'

<SpacialInformation>:
    name: "spacial_information"
    pos_hint: {'x':0.55, 'y':0.77}
    size_hint: 0.43, 0.17
    
    RelativeLayout:
        canvas:
            Color:
                rgba: 0, 0, 0, 1

            Line:
                width: 2.0
                rectangle: (self.x, self.y, self.width, self.height)

        Label:
            text: "Spatial Information"
            bold: True
            color: 0,0,0,1
            font_size: 20
            pos_hint: {'x': 0, 'y':0.75}
            size_hint: 1, 0.2

        Label:
            text: "Image scale (Pixel/Meter):"
            color: 0,0,0,1
            pos_hint: {'x':0, 'y':0.4}
            size_hint: 0.56, 0.29
            text_size: self.size
            halign: 'right'
            valign: 'middle'

        TextInput:
            hint_text: "X"
            color: 0,0,0,1
            font_size: self.height - 16
            multiline: False
            pos_hint: {'x':0.58, 'y':0.4}
            size_hint: 0.12, 0.29
            halign: 'center'
            valign: 'middle'

        TextInput:
            hint_text: "Y"
            color: 0,0,0,1
            font_size: self.height - 16
            multiline: False
            pos_hint: {'x':0.71, 'y':0.4}
            size_hint: 0.12, 0.29
            halign: 'center'
            valign: 'middle'

        TextInput:
            hint_text: "Z"
            color: 0,0,0,1
            font_size: self.height - 16
            multiline: False
            pos_hint: {'x':0.84, 'y':0.4}
            size_hint: 0.12, 0.29
            halign: 'center'
            valign: 'middle'
        
        Label:
            text: "Timesteps:"
            color: 0,0,0,1
            text_size: self.size
            pos_hint: {'x':0, 'y':0.08}
            size_hint: 0.25, 0.29
            halign: 'right'
            valign: 'middle'

        TextInput:
            hint_text: "###"
            color: 0,0,0,1
            font_size: self.height - 16
            multiline: False
            pos_hint: {'x':0.27, 'y':0.08}
            size_hint: 0.2, 0.29
            halign: 'center'
            valign: 'middle'

        Label:
            text: "Boundary:"
            color: 0,0,0,1
            text_size: self.size
            pos_hint: {'x':0.47, 'y':0.08}
            size_hint: 0.25, 0.29
            halign: 'right'
            valign: 'middle'

        TextInput:
            hint_text: "###"
            color: 0,0,0,1
            font_size: self.height - 16
            multiline: False
            pos_hint: {'x':0.74, 'y':0.08}
            size_hint: 0.2, 0.29
            halign: 'center'
            valign: 'middle'

<DimensionButtons>:
    size_hint: 0.4, 0.1
    pos_hint: {'x': 0.61, 'y': 0.9}
    name: "dimension_button"
    Label:
        text: "Dimensions to be plotted:"
        color: 0,0,0,1
        font_size: 18
        pos_hint: {'x': 0, 'y': 0.5}
        size_hint: 0.55, 0.5
    
    ToggleButton:
        text: '2'
        pos_hint: {'x': 0.63, 'y':0.5}
        size_hint: 0.1, 0.45
        group: "dimension"
        state: "down"

    ToggleButton:
        text: "2.5"
        pos_hint: {"x": 0.75, "y":0.5}
        size_hint: 0.1, 0.45
        group: "dimension"

<ImageInput>:
    size_hint: 0.5, 0.5
    pos_hint: {"x": 0, "y": 0.5}
    name: "image_input"
    TextInput:
        name: "file_name"
        hint_text: "Enter the name of your image"
        multiline: False
        background_color: 1, 1, 1, 1 #color of textbox
        font_size: self.height - 16
        pos_hint: {"x":0, "y":0.89}
        size_hint: 0.7, 0.11
        id: file_path
        on_text_validate: root.getImage()
        halign: 'left'
        valign: 'middle'

    Button:
        name: "import_image_button"
        text: "Import Image"
        pos_hint: {"x":0.7, "y":0.89}
        size_hint: 0.3, 0.11
        id: file_input
        on_release: root.getImage()

<GlacierImage>:
    size_hint: 1, .9
    id: image
    name: "glacier_image"

<MaterialWindow>:
    size_hint: 0.7, 0.5
    name: "material_window"
    minimum_height: 10
    do_scroll_y: True
    pos_hint: {"y": -.2}

<MaterialBox>:
    name: "material_box"

<RunButton>:
    name: "run_button"
    text: "Run"
    pos_hint: {"x":0.91, "y":0.01}
    size_hint: 0.08, 0.05
    on_release: root.run()

<TotalLayout>:
    name: "total_layout"
    background_color: (2.9,2.9,2.9,2.9)
    tab_height: 25

<MaterialInput>:
    height: 30
    rows: 1
    cols: 7

    canvas:
        Color:
            rgba: 2, 2, 2, 1

        Line:
            width: 1.0
            rectangle: (self.x, self.y, self.width, self.height)
    TextInput:
        name: "material_name"
        hint_text: "Name"
        color: 0,0,0,1
        font_size: self.height - 16
        multiline: False
        halign: 'center'
        valign: 'middle'
    TextInput:
        hint_text: "Temperature"
        name: "material_temperature"
        color: 0,0,0,1
        font_size: self.height - 16
        multiline: False
        halign: 'center'
        valign: 'middle'
    TextInput:
        name: "material_attenuation"
        hint_text: "Attenuation"
        color: 0,0,0,1
        font_size: self.height - 16
        multiline: False
        halign: 'center'
        valign: 'middle'
    TextInput:
        name: "material_density"
        hint_text: "Density"
        color: 0,0,0,1
        font_size: self.height - 16
        multiline: False
        halign: 'center'
        valign: 'middle'
    TextInput:
        name: "material_water_content"
        hint_text: "Porosity"
        color: 0,0,0,1
        font_size: self.height - 16
        multiline: False
        halign: 'center'
        valign: 'middle'
    CheckBox:
        name: "anisotropic_button"
    TextInput:  
        name: "material_ang_file"
        hint_text: "ang_file"
        color: 0,0,0,1
        font_size: self.height - 16
        multiline: False
        halign: 'center'
        valign: 'middle'








#this is an empty comment
<MultiRunButton>:
    name: "multi_run_button"
    text: "Run"
    pos_hint: {"x":0.91, "y":0.01}
    size_hint: 0.08, 0.05
    on_release: root.MultiShot()
<SingleRunButton>:
    name: "single_run_button"
    text: "Run"
    pos_hint: {"x":0.91, "y":0.01}
    size_hint: 0.08, 0.05
    on_release: root.SingleShot()
<MultiShotInput>:
    name: "multi_shot_input"
    pos_hint: {'x': 0.55, 'y': 0.405}
    size_hint: 0.55, 0.35
    RelativeLayout:
        Label: 
            text: "Initial Source"
            bold: True
            color: 0,0,0,1
            font_size: 20
            pos_hint: {'x': 0, 'y':0.81}
            size_hint: 1, 0.2

        TextInput:
            hint_text: "X"
            color: 0,0,0,1
            font_size: self.height - 16
            multiline: False
            pos_hint: {'x': 0.1, 'y':0.68}
            size_hint: 0.25, 0.14
            halign: 'center'
            valign: 'middle'

        TextInput:
            hint_text: "Y"
            color: 0,0,0,1
            font_size: self.height - 16
            multiline: False
            pos_hint: {'x': 0.38, 'y':0.68}
            size_hint: 0.25, 0.14
            halign: 'center'
            valign: 'middle'

        TextInput:
            hint_text: "Z"
            color: 0,0,0,1
            font_size: self.height - 16
            multiline: False
            pos_hint: {'x': 0.66, 'y':0.68}
            size_hint: 0.25, 0.14
            halign: 'center'
            valign: 'middle'

        Label: 
            text: "Final Receiver"
            bold: True
            color: 0,0,0,1
            font_size: 20
            pos_hint: {'x': 0, 'y':0.61}
            size_hint: 1, 0.2

        TextInput:
            hint_text: "X"
            color: 0,0,0,1
            font_size: self.height - 16
            multiline: False
            pos_hint: {'x': 0.1, 'y':0.48}
            size_hint: 0.25, 0.14
            halign: 'center'
            valign: 'middle'

        TextInput:
            hint_text: "Y"
            color: 0,0,0,1
            font_size: self.height - 16
            multiline: False
            pos_hint: {'x': 0.38, 'y':0.48}
            size_hint: 0.25, 0.14
            halign: 'center'
            valign: 'middle'

        TextInput:
            hint_text: "Z"
            color: 0,0,0,1
            font_size: self.height - 16
            multiline: False
            pos_hint: {'x': 0.66, 'y':0.48}
            size_hint: 0.25, 0.14
            halign: 'center'
            valign: 'middle'

        Label: 
            text: "Receiver Spacing"
            bold: True
            color: 0,0,0,1
            font_size: 20
            pos_hint: {'x': 0, 'y':0.41}
            size_hint: 1, 0.2

        TextInput:
            hint_text: "Spacing"
            color: 0,0,0,1
            font_size: self.height - 16
            multiline: False
            pos_hint: {'x': 0.1, 'y':0.28}
            size_hint: 0.25, 0.14
            halign: 'center'
            valign: 'middle'
        
